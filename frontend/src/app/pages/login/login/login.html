<section class="min-h-screen bg-blue-700 flex items-center justify-center px-4">
    <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 w-96">
        <h2 class="text-3xl font-bold text-center text-blue-700 mb-6">Iniciar Sesión</h2>

        <form [formGroup]="form" (ngSubmit)="login()">
            <div class="mb-3">
                <label class="block text-blue-700 font-semibold mb-1">Correo Electrónico</label>
                <input formControlName="email" class="input" />
                <p *ngIf="getError('email')['required']" class="error-msg">El Email es obligatorio</p>
                <p *ngIf="getError('email')['email']" class="error-msg">Email inválido</p>
            </div>

            <div class="mb-3">
                <label class="block text-blue-700 font-semibold mb-1">Contraseña</label>
                <div class="relative">
                    <input [type]="showPassword ? 'text' : 'password'" formControlName="password" class="input" />
                    <button type="button" class="absolute right-3 top-3 text-gray-500" (click)="togglePassword()">
            <i [class]="showPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
          </button>
                    <p *ngIf="getError('password')['required']" class="error-msg">
                        La contraseña es obligatoria
                    </p>
                    <p *ngIf="getError('password')['minlength']" class="error-msg">
                        Debe tener al menos 6 caracteres
                    </p>
                </div>
            </div>
            <div class="mb-4 flex items-center">
                <input type="checkbox" id="terms" formControlName="termsAccepted" class="mr-2" />
                <label for="termsCheckbox" class="text-sm text-gray-600">¿Aceptar Términos y condiciones?  </label
        > <br>  <p *ngIf="getError('termsAccepted')['required']" class="error-msg">  Es obligatorio</p>
            </div>
            
       <div *ngIf="errorMessage" class="error-message">
      <p>{{ errorMessage }}</p>
    </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <button
          class="w-full bg-blue-600 text-white py-2 rounded transition font-bold py-3 rounded-lg mt-4 hover:bg-blue-400 transition duration-300"
          [disabled]="form.invalid"
          [disabled]="isSubmitDisabled"
        >
          Ingresar
        </button>

        <button
          type="submit"
          routerLink="/"
          class="w-full bg-red-600 text-white font-bold py-3 rounded-lg mt-4 hover:bg-red-400 transition duration-300"
        >
          Cancelar
        </button>
      </div>
    </form>

    <p class="text-center text-gray-500 mt-4 text-sm">
      ¿No tienes cuenta? <a routerLink="/" class="text-blue-600 hover:underline">Regístrate</a>
    </p>
  </div>
</section>
